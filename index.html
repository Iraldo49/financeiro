<!doctype html>
<html lang="pt" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle Financeiro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&amp;display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        @view-transition {
            navigation: auto;
        }
    </style>
</head>

<body class="h-full bg-slate-900 text-white overflow-hidden flex flex-col">
    <!-- Mobile Menu Button -->
    <button id="menu-toggle"
        class="fixed top-4 left-4 z-40 md:hidden bg-orange-500 hover:bg-orange-600 p-3 rounded-lg text-white transition-all">
        ‚ò∞ </button>

    <!-- Container Flex principal -->
    <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar -->
        <aside id="sidebar"
            class="fixed md:static inset-y-0 left-0 w-64 bg-gradient-to-b from-slate-800 to-slate-900 border-r border-slate-700 flex flex-col h-full flex-shrink-0 transform -translate-x-full md:translate-x-0 transition-transform duration-300 z-30">
            <!-- Logo Section -->
            <div class="p-5 border-b border-slate-700">
                <div class="flex items-center gap-3">
                    <div
                        class="w-10 h-10 bg-gradient-to-br from-orange-500 to-amber-600 rounded-lg flex items-center justify-center text-lg flex-shrink-0">
                        <img src="img/2.png" alt="">
                    </div>
                    <div class="min-w-0">
                        <h1 id="business-title" class="text-xs font-bold text-white truncate">Controle Financeiro</h1>
                        <p class="text-xs text-slate-400">Sistema de Caixa</p>
                    </div>
                </div>
            </div>

            <!-- Navigation Menu -->
            <nav class="flex-1 p-3 overflow-y-auto">
                <div class="space-y-2">
                    <button
                        class="sidebar-btn active tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium transition-all"
                        data-tab="dashboard">
                        <span class="text-lg flex-shrink-0">üìà</span>
                        <span class="truncate">Dashboard</span>
                    </button>
                    <button
                        class="sidebar-btn tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all"
                        data-tab="caixa">
                        <span class="text-lg flex-shrink-0">üíµ</span>
                        <span class="truncate">Caixa Setores</span>
                    </button>
                    <button
                        class="sidebar-btn tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all"
                        data-tab="compras">
                        <span class="text-lg flex-shrink-0">üõí</span>
                        <span class="truncate">Compras</span>
                    </button>
                    <button
                        class="sidebar-btn tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all"
                        data-tab="produtos">
                        <span class="text-lg flex-shrink-0">üì¶</span>
                        <span class="truncate">Produtos</span>
                    </button>
                    <button
                        class="sidebar-btn tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all"
                        data-tab="vendas">
                        <span class="text-lg flex-shrink-0">üí∞</span>
                        <span class="truncate">Vender</span>
                    </button>
                    <button
                        class="sidebar-btn tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all"
                        data-tab="comparacao">
                        <span class="text-lg flex-shrink-0">üìä</span>
                        <span class="truncate">Compara√ß√£o</span>
                    </button>
                    <button
                        class="sidebar-btn tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all"
                        data-tab="carteiras">
                        <span class="text-lg flex-shrink-0">üì±</span>
                        <span class="truncate">Carteiras</span>
                    </button>
                    <button
                        class="sidebar-btn tab-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all"
                        data-tab="historico">
                        <span class="text-lg flex-shrink-0">üìã</span>
                        <span class="truncate">Hist√≥rico</span>
                    </button>
                </div>
            </nav>

            <!-- Bottom Section -->
            <div class="p-3 border-t border-slate-700 flex-shrink-0">
                <button id="export-btn"
                    class="w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium bg-slate-700/50 hover:bg-slate-600 text-slate-300 hover:text-white transition-all">
                    <span class="text-lg flex-shrink-0">üì•</span>
                    <span class="truncate">Exportar</span>
                </button>
                <button id="reset-btn"
                    class="mt-2 w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left text-sm font-medium bg-red-900/50 hover:bg-red-800 text-red-300 hover:text-white transition-all">
                    <span class="text-lg flex-shrink-0">‚ö†Ô∏è</span>
                    <span class="truncate">Resetar Dados</span>
                </button>
            </div>
        </aside>

        <!-- Mobile Overlay -->
        <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 md:hidden z-20 hidden"></div>

        <!-- Main Content Area -->
        <div id="app" class="flex-1 flex flex-col h-full overflow-hidden">
            <!-- Top Header -->
            <header
                class="bg-slate-800 border-b border-slate-700 px-6 py-4 flex-shrink-0 flex justify-between items-center">
                <div>
                    <h2 class="text-lg font-bold text-white">Bem-vindo ao Sistema</h2>
                    <p class="text-sm text-slate-400">Gerencie produtos, vendas e lucros</p>
                </div>

                <!-- Bot√£o de Modo Dark/Light -->
                <button id="theme-toggle"
                    class="p-2 rounded-lg bg-slate-700 hover:bg-slate-600 transition-all flex items-center gap-2">
                    <span id="theme-icon" class="text-xl">üåô</span>
                    <span id="theme-text" class="text-sm hidden sm:inline text-white">Modo Escuro</span>
                </button>
            </header>

            <!-- Toast Container -->
            <div id="toast-container" class="fixed top-4 right-4 z-50 flex flex-col gap-2"></div>

            <!-- Scrollable Content -->
            <main class="flex-1 overflow-y-auto p-6">
                <!-- Dashboard Tab -->
                <section id="tab-dashboard" class="tab-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                        <!-- Total Geral -->
                        <div class="card-gradient rounded-2xl p-5 border border-slate-600">
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-slate-400 text-sm">Total Geral</span>
                                <span class="text-2xl">üí∞</span>
                            </div>
                            <p id="total-geral" class="text-2xl font-bold text-emerald-400">0,00 MT</p>
                        </div>
                        <!-- Caixa Consolidado -->
                        <div class="card-gradient rounded-2xl p-5 border border-slate-600">
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-slate-400 text-sm">Caixa (Bar + Take Away)</span>
                                <span class="text-2xl">üíµ</span>
                            </div>
                            <p id="caixa-consolidado" class="text-2xl font-bold text-blue-400">0,00 MT</p>
                        </div>
                        <!-- Compras Hoje -->
                        <div class="card-gradient rounded-2xl p-5 border border-slate-600">
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-slate-400 text-sm">Compras Hoje</span>
                                <span class="text-2xl">üõí</span>
                            </div>
                            <p id="compras-hoje" class="text-2xl font-bold text-red-400">0,00 MT</p>
                        </div>
                        <!-- Lucro L√≠quido -->
                        <div class="card-gradient rounded-2xl p-5 border border-slate-600">
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-slate-400 text-sm">Lucro L√≠quido (Hoje)</span>
                                <span class="text-2xl">üìà</span>
                            </div>
                            <p id="lucro-liquido" class="text-2xl font-bold text-purple-400">0,00 MT</p>
                        </div>
                    </div>

                    <!-- Detailed Cards -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Setores -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üç∫</span> Resumo por Setor
                            </h3>
                            <div class="space-y-4">
                                <!-- Bar -->
                                <div class="bg-slate-700/50 rounded-xl p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium">üç∫ Bar</span>
                                        <span id="bar-total" class="text-emerald-400 font-bold">0,00 MT</span>
                                    </div>
                                    <div class="grid grid-cols-3 gap-2 text-xs text-slate-400">
                                        <div>
                                            <p>Saldo Inicial</p>
                                            <p id="bar-inicial" class="text-white font-medium">0,00</p>
                                        </div>
                                        <div>
                                            <p>Vendas</p>
                                            <p id="bar-vendas" class="text-emerald-400 font-medium">0,00</p>
                                        </div>
                                        <div>
                                            <p>Lucro</p>
                                            <p id="bar-lucro" class="text-purple-400 font-medium">0,00</p>
                                        </div>
                                    </div>
                                </div>
                                <!--Take Away-->
                                <div class="bg-slate-700/50 rounded-xl p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium">üçî Take Away</span>
                                        <span id="fastfood-total" class="text-emerald-400 font-bold">0,00 MT</span>
                                    </div>
                                    <div class="grid grid-cols-3 gap-2 text-xs text-slate-400">
                                        <div>
                                            <p>Saldo Inicial</p>
                                            <p id="fastfood-inicial" class="text-white font-medium">0,00</p>
                                        </div>
                                        <div>
                                            <p>Vendas</p>
                                            <p id="fastfood-vendas" class="text-emerald-400 font-medium">0,00</p>
                                        </div>
                                        <div>
                                            <p>Lucro</p>
                                            <p id="fastfood-lucro" class="text-purple-400 font-medium">0,00</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Carteiras -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üì±</span> Resumo Carteiras M√≥veis
                            </h3>
                            <div class="space-y-4">
                                <!-- Mpesa -->
                                <div class="bg-slate-700/50 rounded-xl p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium text-red-400">üì≤ M-Pesa</span>
                                        <span id="mpesa-total" class="text-red-400 font-bold">0,00 MT</span>
                                    </div>
                                    <div class="grid grid-cols-2 gap-2 text-xs text-slate-400">
                                        <div>
                                            <p>üíµ Dinheiro F√≠sico</p>
                                            <p id="mpesa-fisico" class="text-white font-medium">0,00</p>
                                        </div>
                                        <div>
                                            <p>üí≥ Dinheiro Eletr√¥nico</p>
                                            <p id="mpesa-eletronico" class="text-cyan-400 font-medium">0,00</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- Emola -->
                                <div class="bg-slate-700/50 rounded-xl p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="font-medium text-orange-400">üì≤ E-mola</span>
                                        <span id="emola-total" class="text-orange-400 font-bold">0,00 MT</span>
                                    </div>
                                    <div class="grid grid-cols-2 gap-2 text-xs text-slate-400">
                                        <div>
                                            <p>üíµ Dinheiro F√≠sico</p>
                                            <p id="emola-fisico" class="text-white font-medium">0,00</p>
                                        </div>
                                        <div>
                                            <p>üí≥ Dinheiro Eletr√¥nico</p>
                                            <p id="emola-eletronico" class="text-cyan-400 font-medium">0,00</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Caixa Tab (Saldo Inicial) -->
                <section id="tab-caixa" class="tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Bar Form -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üç∫</span> Setor Bar - Saldo Inicial
                            </h3>
                            <form id="bar-form" class="space-y-4">
                                <input type="hidden" name="type" value="saldo_inicial">
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Valor do Saldo Inicial (MT)</label>
                                    <input type="number" name="amount" min="0" step="0.01" placeholder="0,00"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Descri√ß√£o (opcional)</label>
                                    <input type="text" name="description" placeholder="Ex: Saldo inicial do dia"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                                </div>
                                <button type="submit"
                                    class="w-full bg-gradient-to-r from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700 px-4 py-3 rounded-lg font-medium transition-all">
                                    ‚úÖ Registrar Saldo Inicial no Bar
                                </button>
                            </form>
                        </div>
                        <!-- Take Away Form -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üçî</span> Setor Take Away - Saldo Inicial
                            </h3>
                            <form id="fastfood-form" class="space-y-4">
                                <input type="hidden" name="type" value="saldo_inicial">
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Valor do Saldo Inicial (MT)</label>
                                    <input type="number" name="amount" min="0" step="0.01" placeholder="0,00"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Descri√ß√£o (opcional)</label>
                                    <input type="text" name="description" placeholder="Ex: Saldo inicial do dia"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                                </div>
                                <button type="submit"
                                    class="w-full bg-gradient-to-r from-orange-500 to-amber-600 hover:from-orange-600 hover:to-amber-700 px-4 py-3 rounded-lg font-medium transition-all">
                                    ‚úÖ Registrar Saldo Inicial no Take Away
                                </button>
                            </form>
                        </div>
                    </div>
                </section>

                <!-- Compras Tab -->
                <section id="tab-compras" class="tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Bar Compras Form -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üç∫</span> Comprar Insumos - Bar
                            </h3>
                            <form id="bar-compras-form" class="space-y-4">
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Nome do Insumo</label>
                                    <input type="text" name="product_name" placeholder="Ex: Cerveja, Refrigerante, Gelo"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Quantidade</label>
                                    <input type="number" name="quantity" min="0.01" step="0.01" placeholder="1.00"
                                        value="1.00"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Pre√ßo Total (MT)</label>
                                    <input type="number" name="amount" min="0" step="0.01" placeholder="0,00"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Fornecedor (opcional)</label>
                                    <input type="text" name="supplier" placeholder="Ex: Distribuidor ABC"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                                </div>
                                <button type="submit"
                                    class="w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 px-4 py-3 rounded-lg font-medium transition-all">
                                    ‚ûï Registrar Compra de Insumos
                                </button>
                            </form>
                        </div>
                        <!-- Take AwayCompras Form -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üçî</span> Comprar Insumos - Take Away
                            </h3>
                            <form id="fastfood-compras-form" class="space-y-4">
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Nome do Insumo</label>
                                    <input type="text" name="product_name"
                                        placeholder="Ex: P√£o, Hamb√∫rguer, Queijo, Alface"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Quantidade</label>
                                    <input type="number" name="quantity" min="0.01" step="0.01" placeholder="1.00"
                                        value="1.00"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Pre√ßo Total (MT)</label>
                                    <input type="number" name="amount" min="0" step="0.01" placeholder="0,00"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Fornecedor (opcional)</label>
                                    <input type="text" name="supplier" placeholder="Ex: Fornecedor XYZ"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                                </div>
                                <button type="submit"
                                    class="w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 px-4 py-3 rounded-lg font-medium transition-all">
                                    ‚ûï Registrar Compra de Insumos
                                </button>
                            </form>
                        </div>
                    </div>
                </section>

                <!-- Produtos Tab (Composi√ß√£o) -->
                <section id="tab-produtos" class="tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Criar Produto -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üçî</span> Criar Produto para Venda
                            </h3>
                            <form id="produto-form" class="space-y-4">
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Setor</label>
                                    <select id="produto-setor"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                        <option value="bar">üç∫ Bar</option>
                                        <option value="fastfood" selected>üçî Take Away</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Nome do Produto</label>
                                    <input type="text" id="produto-nome"
                                        placeholder="Ex: Hamburguer Simples, X-Burger, Cerveja"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Pre√ßo de Venda (MT)</label>
                                    <input type="number" id="produto-preco" min="0" step="0.01" placeholder="0,00"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>

                                <div class="border-t border-slate-600 pt-4">
                                    <h4 class="font-medium mb-2">üì¶ Composi√ß√£o do Produto (Insumos)</h4>

                                    <div id="composicao-container" class="space-y-3 max-h-64 overflow-y-auto p-1">
                                        <!-- Itens da composi√ß√£o ser√£o adicionados aqui -->
                                    </div>

                                    <div class="flex gap-2 mt-3">
                                        <div class="flex-1">
                                            <select id="insumo-select"
                                                class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 input-focus text-sm">
                                                <option value="">Selecione um insumo</option>
                                            </select>
                                        </div>
                                        <div class="w-24">
                                            <input type="number" id="insumo-quantidade" min="0.01" step="0.01"
                                                placeholder="Qtd"
                                                class="w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 input-focus text-sm">
                                        </div>
                                        <button type="button" id="add-insumo-btn"
                                            class="bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded-lg text-sm">
                                            ‚ûï
                                        </button>
                                    </div>
                                </div>

                                <div class="bg-slate-700/50 rounded-lg p-3 mt-2">
                                    <div class="flex justify-between text-sm">
                                        <span>Custo Total dos Insumos:</span>
                                        <span id="custo-total-produto" class="font-bold text-orange-400">0,00 MT</span>
                                    </div>
                                    <div class="flex justify-between text-sm mt-1">
                                        <span>Pre√ßo de Venda:</span>
                                        <span id="preco-venda-preview" class="font-bold text-emerald-400">0,00 MT</span>
                                    </div>
                                    <div class="flex justify-between text-sm mt-1 border-t border-slate-600 pt-1">
                                        <span>üí∞ Lucro Estimado:</span>
                                        <span id="lucro-estimado" class="font-bold text-purple-400">0,00 MT</span>
                                    </div>
                                </div>

                                <button type="button" id="salvar-produto-btn"
                                    class="w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 px-4 py-3 rounded-lg font-medium transition-all">
                                    ‚úÖ Salvar Produto
                                </button>
                            </form>
                        </div>

                        <!-- Lista de Produtos -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üìã</span> Produtos Cadastrados
                            </h3>

                            <div class="mb-4 flex gap-2">
                                <select id="filtro-setor-produtos"
                                    class="bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm flex-1">
                                    <option value="todos">Todos os Setores</option>
                                    <option value="bar">üç∫ Bar</option>
                                    <option value="fastfood">üçî Take Away</option>
                                </select>
                                <button id="atualizar-estoque-btn"
                                    class="bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded-lg text-sm">
                                    üîÑ Estoque
                                </button>
                            </div>

                            <div id="produtos-lista" class="space-y-3 max-h-96 overflow-y-auto">
                                <p class="text-slate-400 text-center py-8">Nenhum produto cadastrado</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Vendas Tab -->
                <section id="tab-vendas" class="tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Realizar Venda -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üí∞</span> Registrar Venda
                            </h3>

                            <div class="mb-4">
                                <label class="block text-sm text-slate-400 mb-1">Setor</label>
                                <select id="venda-setor"
                                    class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                                    <option value="bar">üç∫ Bar</option>
                                    <option value="fastfood">üçî Take Away</option>
                                </select>
                            </div>

                            <div class="mb-4">
                                <label class="block text-sm text-slate-400 mb-1">Produto</label>
                                <select id="venda-produto"
                                    class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                                    <option value="">Selecione um produto</option>
                                </select>
                            </div>

                            <div id="produto-info" class="bg-slate-700/50 rounded-lg p-3 mb-4 hidden">
                                <div class="flex justify-between text-sm">
                                    <span>Pre√ßo Unit√°rio:</span>
                                    <span id="produto-preco-unitario" class="font-bold text-emerald-400">0,00 MT</span>
                                </div>
                                <div class="flex justify-between text-sm mt-1">
                                    <span>Custo Unit√°rio:</span>
                                    <span id="produto-custo-unitario" class="font-bold text-orange-400">0,00 MT</span>
                                </div>
                                <div class="flex justify-between text-sm mt-1 border-t border-slate-600 pt-1">
                                    <span>üí∞ Lucro por Unidade:</span>
                                    <span id="produto-lucro-unitario" class="font-bold text-purple-400">0,00 MT</span>
                                </div>
                                <div class="text-xs text-slate-400 mt-2" id="produto-composicao-info">
                                    <!-- Composi√ß√£o -->
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="block text-sm text-slate-400 mb-1">Quantidade</label>
                                <input type="number" id="venda-quantidade" min="1" step="1" value="1"
                                    class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                            </div>

                            <div class="bg-slate-700/50 rounded-lg p-3 mb-4">
                                <div class="flex justify-between">
                                    <span>Total da Venda:</span>
                                    <span id="venda-total" class="text-xl font-bold text-emerald-400">0,00 MT</span>
                                </div>
                                <div class="flex justify-between text-sm mt-1">
                                    <span>Custo Total:</span>
                                    <span id="venda-custo-total" class="text-orange-400">0,00 MT</span>
                                </div>
                                <div class="flex justify-between text-sm mt-1 border-t border-slate-600 pt-1">
                                    <span>üí∞ Lucro da Venda:</span>
                                    <span id="venda-lucro-total" class="text-purple-400">0,00 MT</span>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="block text-sm text-slate-400 mb-1">Forma de Pagamento</label>
                                <select id="venda-pagamento"
                                    class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                                    <option value="dinheiro">üíµ Dinheiro</option>
                                    <option value="mpesa">üì≤ M-Pesa</option>
                                    <option value="emola">üì≤ E-mola</option>
                                </select>
                            </div>

                            <button id="registrar-venda-btn"
                                class="w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 px-4 py-3 rounded-lg font-medium transition-all">
                                üí∞ Registrar Venda
                            </button>
                        </div>

                        <!-- √öltimas Vendas -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üìä</span> √öltimas Vendas
                            </h3>

                            <div id="vendas-recentes" class="space-y-3 max-h-96 overflow-y-auto">
                                <p class="text-slate-400 text-center py-8">Nenhuma venda registrada</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Compara√ß√£o Tab -->
                <section id="tab-comparacao" class="tab-content hidden">
                    <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                        <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                            <span class="text-xl">üìä</span> Compara√ß√£o de Vendas - √öltimos 7 Dias
                        </h3>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Bar Comparison -->
                            <div class="bg-slate-700/50 rounded-xl p-4">
                                <h4 class="font-semibold text-amber-400 mb-3">üç∫ Bar</h4>
                                <div id="bar-comparison" class="space-y-2">
                                    <p class="text-slate-400 text-center py-4">Carregando dados...</p>
                                </div>
                            </div>
                            <!--Take AwayComparison -->
                            <div class="bg-slate-700/50 rounded-xl p-4">
                                <h4 class="font-semibold text-orange-400 mb-3">üçî Take Away</h4>
                                <div id="fastfood-comparison" class="space-y-2">
                                    <p class="text-slate-400 text-center py-4">Carregando dados...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Carteiras Tab com Fecho -->
                <section id="tab-carteiras" class="tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Mpesa Form -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl text-red-400">üì≤</span> M-Pesa
                            </h3>
                            <form id="mpesa-form" class="space-y-4">
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Tipo de Movimento</label>
                                    <select name="payment_type"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                                        <option value="fisico">üíµ Entrada (Dep√≥sito/Recebimento)</option>
                                        <option value="eletronico">üí≥ Sa√≠da (Pagamento/Transfer√™ncia)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Valor (MT)</label>
                                    <input type="number" name="amount" min="0" step="0.01" placeholder="0,00"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Descri√ß√£o</label>
                                    <input type="text" name="description"
                                        placeholder="Ex: Dep√≥sito cliente, Pagamento fornecedor"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <button type="submit"
                                    class="w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 px-4 py-3 rounded-lg font-medium transition-all">
                                    ‚ûï Registrar Movimento
                                </button>
                            </form>
                        </div>
                        <!-- Emola Form -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl text-orange-400">üì≤</span> E-mola
                            </h3>
                            <form id="emola-form" class="space-y-4">
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Tipo de Movimento</label>
                                    <select name="payment_type"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus">
                                        <option value="fisico">üíµ Entrada (Dep√≥sito/Recebimento)</option>
                                        <option value="eletronico">üí≥ Sa√≠da (Pagamento/Transfer√™ncia)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Valor (MT)</label>
                                    <input type="number" name="amount" min="0" step="0.01" placeholder="0,00"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <div>
                                    <label class="block text-sm text-slate-400 mb-1">Descri√ß√£o</label>
                                    <input type="text" name="description"
                                        placeholder="Ex: Dep√≥sito cliente, Pagamento fornecedor"
                                        class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2.5 input-focus"
                                        required>
                                </div>
                                <button type="submit"
                                    class="w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 px-4 py-3 rounded-lg font-medium transition-all">
                                    ‚ûï Registrar Movimento
                                </button>
                            </form>
                        </div>

                        <!-- Fecho das Carteiras -->
                        <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700 lg:col-span-2">
                            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
                                <span class="text-xl">üìÜ</span> Fecho Di√°rio das Carteiras
                            </h3>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- Fecho M-Pesa -->
                                <div class="bg-slate-700/50 rounded-xl p-4">
                                    <h4 class="font-semibold text-red-400 mb-3">üì≤ M-Pesa - Fecho do Dia</h4>

                                    <div class="space-y-3">
                                        <div class="flex justify-between">
                                            <span>Saldo Inicial (Hoje):</span>
                                            <span id="mpesa-inicial" class="font-bold">0,00 MT</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Total Entradas:</span>
                                            <span id="mpesa-entradas" class="font-bold text-emerald-400">0,00 MT</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Total Sa√≠das:</span>
                                            <span id="mpesa-saidas" class="font-bold text-red-400">0,00 MT</span>
                                        </div>
                                        <div class="flex justify-between border-t border-slate-600 pt-2">
                                            <span>Saldo Esperado:</span>
                                            <span id="mpesa-saldo-esperado" class="font-bold text-blue-400">0,00
                                                MT</span>
                                        </div>

                                        <div class="mt-4">
                                            <label class="block text-sm text-slate-400 mb-1">Saldo Real Atual
                                                (confer√™ncia)</label>
                                            <div class="flex gap-2">
                                                <input type="number" id="mpesa-saldo-real" min="0" step="0.01"
                                                    placeholder="0,00"
                                                    class="flex-1 bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 input-focus">
                                                <button id="fechar-mpesa-btn"
                                                    class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg text-sm whitespace-nowrap">
                                                    ‚úÖ Fechar Dia
                                                </button>
                                            </div>
                                        </div>

                                        <div id="mpesa-diferenca" class="hidden mt-2 p-2 rounded-lg text-sm"></div>
                                    </div>
                                </div>

                                <!-- Fecho E-mola -->
                                <div class="bg-slate-700/50 rounded-xl p-4">
                                    <h4 class="font-semibold text-orange-400 mb-3">üì≤ E-mola - Fecho do Dia</h4>

                                    <div class="space-y-3">
                                        <div class="flex justify-between">
                                            <span>Saldo Inicial (Hoje):</span>
                                            <span id="emola-inicial" class="font-bold">0,00 MT</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Total Entradas:</span>
                                            <span id="emola-entradas" class="font-bold text-emerald-400">0,00 MT</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Total Sa√≠das:</span>
                                            <span id="emola-saidas" class="font-bold text-red-400">0,00 MT</span>
                                        </div>
                                        <div class="flex justify-between border-t border-slate-600 pt-2">
                                            <span>Saldo Esperado:</span>
                                            <span id="emola-saldo-esperado" class="font-bold text-blue-400">0,00
                                                MT</span>
                                        </div>

                                        <div class="mt-4">
                                            <label class="block text-sm text-slate-400 mb-1">Saldo Real Atual
                                                (confer√™ncia)</label>
                                            <div class="flex gap-2">
                                                <input type="number" id="emola-saldo-real" min="0" step="0.01"
                                                    placeholder="0,00"
                                                    class="flex-1 bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 input-focus">
                                                <button id="fechar-emola-btn"
                                                    class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg text-sm whitespace-nowrap">
                                                    ‚úÖ Fechar Dia
                                                </button>
                                            </div>
                                        </div>

                                        <div id="emola-diferenca" class="hidden mt-2 p-2 rounded-lg text-sm"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4 p-3 bg-slate-700/30 rounded-lg">
                                <p class="text-sm text-slate-400">
                                    üìå <strong>Fecho di√°rio obrigat√≥rio:</strong> Confira o saldo real da carteira no
                                    aplicativo e registre o fecho. Qualquer diferen√ßa ser√° registrada para controle.
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Hist√≥rico Tab -->
                <section id="tab-historico" class="tab-content hidden">
                    <div class="bg-slate-800 rounded-2xl p-5 border border-slate-700">
                        <div class="flex items-center justify-between mb-4 flex-wrap gap-3">
                            <h3 class="text-lg font-semibold flex items-center gap-2">
                                <span class="text-xl">üìã</span> Hist√≥rico de Transa√ß√µes
                            </h3>
                            <div class="flex gap-2">
                                <select id="filter-type"
                                    class="bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-sm">
                                    <option value="all">Todos</option>
                                    <option value="venda">Vendas</option>
                                    <option value="compra">Compras</option>
                                    <option value="carteira">Carteiras</option>
                                    <option value="fecho">Fechos</option>
                                </select>
                                <button id="clear-all-btn"
                                    class="bg-red-600 hover:bg-red-700 px-3 py-2 rounded-lg text-sm transition-colors">
                                    üóëÔ∏è Limpar Tudo
                                </button>
                            </div>
                        </div>
                        <div id="transactions-list" class="space-y-2 max-h-96 overflow-y-auto">
                            <p class="text-slate-400 text-center py-8">Nenhuma transa√ß√£o registrada</p>
                        </div>
                    </div>
                </section>
            </main>

            <!-- Delete Confirmation Modal -->
            <div id="delete-modal" class="fixed inset-0 bg-black/60 z-50 hidden items-center justify-center p-4">
                <div class="bg-slate-800 rounded-2xl p-6 max-w-sm w-full border border-slate-700 animate-slide">
                    <h3 class="text-lg font-semibold mb-2">‚ö†Ô∏è Confirmar Exclus√£o</h3>
                    <p id="delete-modal-text" class="text-slate-400 mb-4">Deseja realmente excluir esta transa√ß√£o?</p>
                    <div class="flex gap-3">
                        <button id="cancel-delete"
                            class="flex-1 bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition-colors">Cancelar</button>
                        <button id="confirm-delete"
                            class="flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors">Excluir</button>
                    </div>
                </div>
            </div>

            <!-- Clear All Confirmation Modal -->
            <div id="clear-modal" class="fixed inset-0 bg-black/60 z-50 hidden items-center justify-center p-4">
                <div class="bg-slate-800 rounded-2xl p-6 max-w-sm w-full border border-slate-700 animate-slide">
                    <h3 class="text-lg font-semibold mb-2">‚ö†Ô∏è Limpar Todas as Transa√ß√µes</h3>
                    <p class="text-slate-400 mb-4">Esta a√ß√£o ir√° excluir TODAS as transa√ß√µes. Deseja continuar?</p>
                    <div class="flex gap-3">
                        <button id="cancel-clear"
                            class="flex-1 bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded-lg transition-colors">Cancelar</button>
                        <button id="confirm-clear"
                            class="flex-1 bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors">Limpar
                            Tudo</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-slate-800 border-t border-slate-700 py-3 px-6 text-center text-slate-400 text-sm flex-shrink-0">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <p>¬© 2026 <span id="footer-business-name">Controle Financeiro do Sabor da Esquina</span> - Todos os direitos
                reservados</p>
            <p class="flex items-center gap-2 mt-1 md:mt-0">
                <span>üíª Desenvolvido por</span>
                <span class="text-orange-400 font-semibold">Mutech Ti</span>
            </p>
        </div>
        <div class="text-xs text-slate-500 mt-1">
            <span id="total-transactions-footer">0 transa√ß√µes</span> ‚Ä¢
            <span id="last-update-footer">Atualizado agora</span>
        </div>
    </footer>

    <script src="js/main.js"></script>
</body>

</html>
